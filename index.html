<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TJ's Asphalt and Concrete Repair | Lakeland &amp; Central Florida</title>
    <!-- Ensure relative links work when deployed as a GitHub Pages project site.
        For user/organization pages (username.github.io) you can keep "./" or remove this tag.
        For a project page, set href="/REPO_NAME/" instead of "./" if you want absolute repo-root paths. -->
    <base href="./">
    <link rel="stylesheet" href="styles.css">
    <meta name="description" content="TJ's Asphalt and Concrete Repair provides professional asphalt repair, concrete resurfacing, and sealcoating services in Lakeland, Polk County, and Central Florida. State registered, bonded, and insured. Call (863) 513-3291 for a free estimate.">
    <link rel="canonical" href="https://www.tjsasphaltandconcreterepair.com/">
    <!-- OG/Twitter tags omitted for brevity, keep yours -->

    <style>
      /* Base reset and accessibility */
      *, *::before, *::after { box-sizing: border-box; }
      html { scroll-behavior: smooth; }

      /* Body defaults */
      body {
        margin: 0;
        padding: 0;
        background-color: rgb(151, 149, 149);
        color: #070707;
        font-family: "benton-modern-display", serif;
        font-weight: 400;
        font-style: normal;
        font-size: 24px;
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
      }

      /* Media defaults */
      img, picture, video, canvas, svg {
        display: block;
        max-width: 100%;
        height: auto;
      }

      /* Respect reduced motion */
      @media (prefers-reduced-motion: reduce) {
        html:focus-within { scroll-behavior: auto; }
        *, *::before, *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }

      /* Fixed header */
      #header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
      }

      /* Offset in-page anchors for fixed header */
      :root { --header-offset: 80px; }
      #hero, #services, #asphaltGallery, #concrete, #contact { scroll-margin-top: var(--header-offset); }

      /* Bar layout and look */
      nav .w3-bar {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 18px;
        border-bottom: 3px solid #D41E1E;
        background: #f1f1f1;
        padding: 10px 12px;
        font-family: "benton-modern-display", serif;
        font-weight: 400;
        font-style: normal;
        font-size: 22px;
        letter-spacing: 1px;
      }

      /* Links */
      nav .w3-bar .w3-bar-item {
        color: #000000;
        background: transparent !important;
        border: none;
        padding: 10px 14px;
        text-decoration: none;
        line-height: 1;
        border-radius: 6px;
      }

      /* Hover/focus */
      nav .w3-bar .w3-bar-item:hover,
      nav .w3-bar .w3-bar-item:focus {
        color: #850505;
        background: rgba(133, 5, 5, 0.08) !important;
        outline: none;
      }

      /* Active/current item */
      nav .w3-bar .w3-green {
        color: #850505 !important;
        background: rgba(133, 5, 5, 0.12) !important;
      }

      /* Responsive */
      @media (max-width: 768px) {
        nav .w3-bar {
          gap: 10px;
          font-size: 18px;
          padding: 8px 10px;
        }
        nav .w3-bar .w3-bar-item { padding: 8px 10px; }
      }

      a {
        color: #0c0c0c;
        text-decoration: underline;
        text-underline-offset: 2px;
        text-decoration-skip-ink: auto;
        transition: color 0.2s ease;
      }
      a:hover, a:focus { color: #850505; }
      a:focus-visible {
        outline: 2px dashed #850505;
        outline-offset: 2px;
      }
      a:active { color: #6d0404; }

      /* Hero Section */
      .hero-container {
        position: relative;
        text-align: center;
        padding: 50px 10px;
        background: rgb(151, 149, 149);
        border: 5px solid #850505;
        margin-top: 80px;
      }
      .hero-container .text-Xlarge {
        font-size: 58px;
        margin-bottom: 40px;
        color: #850505;
      }
      .hero-container .text-large {
        font-size: 42px;
        margin-bottom: 30px;
        color: #850505;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
      }
      .hero-container .text-medium { font-size: 28px; color: #000; }

      /* Services Section */
      #services { padding: 20px 16px; text-align: center; }

      /* Title "Our Services" */
      #services .text-Xlarge {
        display: inline-block;
        margin: 40px auto 20px;
        font-size: 44px;
        font-weight: 700;
        color: #000000;
        letter-spacing: 1px;
        font-family: "benton-modern-display", serif;
        padding-bottom: 8px;
        position: relative;
      }
      #services .text-Xlarge::after {
        content: "";
        display: block;
        width: 80%;
        height: 4px;
        background: #0d0d0d;
        margin: 10px auto 0;
        border-radius: 2px;
      }

      /* Service headings and text */
      .service h3 {
        margin-bottom: 10px;
        color: #850505;
        font-size: 34px;
        font-weight: 700;
      }
      .service p {
        font-size: 22px;
        max-width: 900px;
        margin: 0 auto 15px;
        color: #0b0b0b;
      }

      /* Full-width boxes */
      .service.asphalt,
      .service.concrete,
      .service.resurfacing {
        border: 3px solid #fd0404;
        background: #898787;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        width: 100%;
        box-shadow: 0 4px 12px rgba(116,115,115,0.3);
        text-align: center;
      }

      /* Responsive */
      @media (max-width: 768px) {
        #services .text-Xlarge { font-size: 32px; }
        .service h3 { font-size: 28px; }
        .service p { font-size: 18px; }
      }

      /* Promo Container */
      .promo-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 5px 5px;
        width: 100%;
        background: #898787;
        border: 3px solid transparent;
        border-image: linear-gradient(to right, red, orange, yellow) 1;
        border-radius: 0;
        margin: 0;
        overflow: visible;
      }
      .promo { flex: 1; text-align: center; }
      .promo .text-Xlarge {
        font-size: 42px;
        font-weight: 700;
        margin-bottom: 10px;
        background: linear-gradient(to right, red, orange, yellow);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        color: transparent;
        -webkit-text-stroke: 1.2px #000000;
      }
      .promo .text-medium { font-size: 28px; color: #000000; line-height: 1.2; }
      .promo-image {
        position: absolute;
        top: -105px;
        right: 25px;
        z-index: 25;
        pointer-events: none;
      }
      .promo-image img { width: 400px; height: auto; }

      /* Spin animation */
      @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      .animated-star { animation: none; will-change: transform; transform-origin: center; }
      .animated-star.animate { animation: spin 6s linear infinite; }

      @media (prefers-reduced-motion: reduce) {
        .animated-star, .animated-star.animate { animation: none !important; }
      }

      /* Responsive Layout */
      @media (max-width: 768px) {
        .promo-container { flex-direction: column; text-align: center; }
        .promo { text-align: center; }
        .promo-image { position: static; margin-top: 8px; }
        .promo-image img { max-width: 200px; width: 100%; height: auto; }
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 24px 16px;
        background: #3d3d3d;
        color: #f5f5f5;
        border-top: 3px solid #D41E1E;
        margin-top: 40px;
      }
      footer .text-small { color: #f5f5f5; }
      footer a { color: #ffd166; text-decoration: underline; text-underline-offset: 2px; }
      footer a:hover, footer a:focus { color: #ffb703; }
      footer .footer-icon { text-align: center; margin-bottom: 12px; }
      footer .footer-icon img { width: auto; height: auto; max-width: 110px; max-height: 110px; }
      @media (max-width: 640px) {
        footer { padding: 20px 12px; }
        footer .footer-icon img { max-width: 90px; max-height: 90px; }
      }

      /* Utility text sizes */
      .text-small { font-size: 18px; line-height: 1.4; color: inherit; }
      .text-medium { font-size: 24px; line-height: 1.5; color: inherit; }
      .text-large { font-size: 36px; line-height: 1.3; font-weight: 700; color: inherit; }
      .text-Xlarge { font-size: 58px; line-height: 1.2; font-weight: 700; color: inherit; }
      .text-center { text-align: center; }
      @media (max-width: 768px) {
        .text-large { font-size: 30px; }
        .text-Xlarge { font-size: 44px; }
      }

      /* Image Sizing */
      .img-medium { width: 50px; height: 50px; object-fit: cover; border-radius: 4px; }
      .img-large { width: 100%; max-width: 200px; height: auto; border: 1px solid #000; border-radius: 4px; object-fit: cover; }

      /* Gallery Styles */
      .gallery-section {
        padding: 40px 20px;
        background: #838282;
        text-align: center;
        border-top: 5px solid #850505;
      }
      .gallery-section h1.text-large {
        font-size: 42px; font-weight: 700; color: #850505;
        margin-bottom: 30px; text-transform: uppercase; letter-spacing: 2px;
      }
      .gallery-row {
        display: flex; flex-wrap: wrap; justify-content: center;
        gap: 20px; margin: 20px 0; padding: 0;
      }
      .before-after-container {
        display: flex; flex-direction: column; width: 220px; margin: 15px;
        border: 1px solid #850505; border-radius: 6px; padding: 10px; background-color: #040404;
        box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }
      .before-after-container:hover { transform: translateY(-5px); box-shadow: 0 6px 14px rgba(0,0,0,0.35); }
      .before-after-container .gallery-item { margin: 5px 0; width: 100%; text-align: center; font-size: 18px; position: relative; }
      .before-after-container .gallery-item:first-child::before {
        content: attr(data-before);
        display: block; text-align: center; margin-bottom: 8px;
        font-weight: 700; color: #ff3b3b; font-size: 18px;
      }
      .before-after-container .gallery-item:last-child::after {
        content: attr(data-after);
        display: block; text-align: center; margin-top: 8px;
        font-weight: 700; color: #ff3b3b; font-size: 18px;
      }
      .before-after-container img,
      .img-small,
      .before-after-container-img,
      .gallery-item-img {
        width: 200px; height: 150px;
        border: 1px solid #000; border-radius: 4px; object-fit: cover;
        transition: transform 0.3s ease;
      }
      .before-after-container img:hover { transform: scale(1.05); }

      @media (max-width: 768px) {
        .before-after-container { width: 90%; }
        .before-after-container img { width: 100%; height: auto; }
      }

      /* Success Modal */
      .modal {
        position: fixed; inset: 0;
        background: rgba(0,0,0,0.6);
        /* hide by default; JS controls visibility via aria-hidden and the hidden attribute */
        display: none;
        align-items: center; justify-content: center;
        z-index: 9999;
      }
      /* show modal only when aria-hidden is explicitly false */
      .modal[aria-hidden="false"] {
        display: flex;
      }
      .modal-content {
        background: #fff; padding: 24px; border-radius: 8px;
        max-width: 400px; text-align: center;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3);
      }
      .modal-content h3 { color: #850505; margin-bottom: 12px; }
      .modal-content button {
        margin-top: 16px; padding: 10px 20px;
        background: #850505; color: #fff;
        border: none; border-radius: 6px; cursor: pointer;
      }
      .modal-content button:hover { background: #6d0404; }

      /* small helpers used by scripts */
      #refCode { font-weight: 700; }
      #formStatus { display: none; color: #6d0404; margin: 0 0 12px 0; }

      /* Honeypot helper: visually hide the input without inline styles.
        Keeps it out of keyboard navigation and hidden from assistive tech
        via attributes already present on the element (aria-hidden, tabindex). */
     .hp-hidden {
       position: absolute;
       left: -9999px;
       top: auto;
       width: 1px;
       height: 1px;
       overflow: hidden;
     }

      /* Contact Section styles (new/replace to correct layout and appearance) */
      .contact-card {
        max-width: 980px;
        margin: 28px auto;
        padding: 24px;
        background: #ffffff;
        border: 3px solid #850505;
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        color: #0b0b0b;
        line-height: 1.4;
      }

      /* Title and info */
      .contact-card__title {
        margin: 0 0 12px;
        font-size: 32px;
        color: #850505;
        font-weight: 700;
      }
      .contact-card__info {
        display: flex;
        flex-wrap: wrap;
        gap: 12px 24px;
        margin-bottom: 16px;
        align-items: center;
      }
      .contact-card__info p { margin: 0; }
      .contact-card__email,
      .contact-card__info a {
        color: #850505;
        text-decoration: underline;
      }

      /* Form layout: two-column grid with full-row utility */
      .contact-card__form {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        align-items: start;
      }
      .contact-card__field {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }
      .contact-card__fullrow {
        grid-column: 1 / -1;
      }

      /* Labels and inputs */
      .contact-card__field label {
        font-size: 14px;
        font-weight: 600;
        color: #111;
      }
      .contact-card__field input,
      .contact-card__field textarea {
        padding: 10px 12px;
        border: 1px solid #d0d0d0;
        border-radius: 6px;
        background: #fff;
        color: #0b0b0b;
        font-size: 16px;
        outline: none;
        transition: border-color 0.12s ease, box-shadow 0.12s ease;
        box-sizing: border-box;
      }

      /* Textarea specifics */
      .contact-card__field textarea {
        min-height: 120px;
        resize: vertical;
      }

      /* Focus and accessibility */
      .contact-card__field input:focus,
      .contact-card__field textarea:focus {
        border-color: #850505;
        box-shadow: 0 0 0 4px rgba(133,5,5,0.06);
      }

      /* Submit button */
      .contact-card__button {
        grid-column: 1 / -1;
        justify-self: start;
        padding: 12px 18px;
        background: #850505;
        color: #fff;
        border: none;
        border-radius: 8px;
        font-size: 18px;
        font-weight: 700;
        cursor: pointer;
        transition: background 0.12s ease, transform 0.06s ease;
      }
      .contact-card__button:hover,
      .contact-card__button:focus {
        background: #6d0404;
        transform: translateY(-1px);
        outline: none;
      }
      .contact-card__button:active { transform: translateY(0); }

      /* Small helpers & status */
      #formStatus { display: none; margin-top: 8px; }

      /* Responsive: stack on narrow screens */
      @media (max-width: 640px) {
        .contact-card {
          padding: 16px;
          margin: 18px auto;
        }
        .contact-card__title { font-size: 24px; }
        .contact-card__form { grid-template-columns: 1fr; }
        .contact-card__button { width: 100%; justify-self: stretch; }
      }
    </style>
  </head>
  <body>

    <script>

      // Wrap stray .gallery-item elements into .before-after-container pairs,
      // leaving any existing containers untouched and preserving order.
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.gallery-row').forEach(row => {
          const strayItems = Array.from(row.children).filter(el => el.classList.contains('gallery-item'));
          if (strayItems.length === 0) return;

          for (let i = 0; i < strayItems.length; i += 2) {
            const first = strayItems[i];
            const second = strayItems[i + 1] || null;

            const container = document.createElement('div');
            container.className = 'before-after-container';

            // Insert container where the first item was
            if (first.parentElement === row) {
              row.replaceChild(container, first);
            } else {
              row.appendChild(container);
            }

            container.appendChild(first);
            if (second && second.parentElement === row) {
              container.appendChild(second);
            }
          }
        });
      });

    </script>
    <header
      id="header"
      aria-label="Main"
    >
      <nav aria-label="Primary">
        <div class="w3-bar">
          <a
            href="#hero"
            class="w3-bar-item w3-green"
            aria-current="page"
          >Home</a>
          <a
            href="#services"
            class="w3-bar-item"
          >Services</a>
          <a
            href="#asphaltGallery"
            class="w3-bar-item"
          >Gallery</a>
          <a
            href="#contact"
            class="w3-bar-item"
          >Contact</a>
        </div>
      </nav>
    </header>

    <!-- Hero Section -->
    <section
      id="hero"
      aria-labelledby="hero-title"
    >
      <div class="hero-container">
        <h1
          id="hero-title"
          class="text-Xlarge"
        >TJ's Asphalt and Concrete Repair</h1>
        <h2 class="text-large">Quality Asphalt &amp; Concrete Repair</h2>
        <p class="text-medium">State Registered, Bonded &amp; Insured</p>
        <p class="text-medium">Serving Central Florida</p>
      </div>
    </section>

    <!-- Services Section -->
    <section
      id="services"
      aria-labelledby="services-title"
    >
      <h2
        id="services-title"
        class="text-Xlarge"
      >Our Services</h2>

      <div class="service asphalt">
        <h3>Asphalt Repair</h3>

        <p>We specialize in repairing and maintaining asphalt surfaces for driveways, parking lots, and private roads. Our
          method focuses on durable, long lasting results—not quick fixes.</p>
      </div>

      <div class="service concrete">
        <h3>Concrete Repair</h3>
        <p>Professional concrete repair and resurfacing for driveways, sidewalks, and patios with a clean, consistent
          finish.</p>
      </div>

      <div class="service resurfacing">
        <h3>Concrete Resurfacing</h3>
        <p>Refresh worn or damaged concrete with a visually appealing, protective surface—an economical alternative to
          full replacement.</p>
      </div>

      <div
        class="promo-container"
        aria-labelledby="promo-title"
      >
        <div class="promo">

          <h3
            id="promo-title"
            class="text-Xlarge"
          >Special Promo</h3>
          <p class="text-medium">Check our off season dates for extra savings. </p>
        </div>
        <div
          class="promo-image"
          aria-hidden="true"
        >
          <img
            src="promo.png"
            alt=""
            class="animated-star"
            loading="lazy"
            decoding="async"
          >
        </div>
      </div>
    </section>
    <script>

      // Animate the promo star when it scrolls into view (with fallback for older browsers)
      document.addEventListener('DOMContentLoaded', () => {
        const stars = document.querySelectorAll('.animated-star');
        if (!stars || stars.length === 0) return;

        // Respect prefers-reduced-motion: don't add animation class if user prefers reduced motion
        const prefersReducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (prefersReducedMotion) return;

        if ('IntersectionObserver' in window) {
          try {
            const observer = new IntersectionObserver((entries, obs) => {
              entries.forEach(entry => {
                if (entry.isIntersecting) {
                  entry.target.classList.add('animate');
                  obs.unobserve(entry.target);
                }
              });
            }, {
              threshold: 0.3,
              rootMargin: '0px 0px -50px 0px'
            });

            stars.forEach(el => observer.observe(el));
          } catch (e) {
            // Fallback: immediately show the animation if IntersectionObserver fails to initialize
            stars.forEach(el => el.classList.add('animate'));
          }
        } else {
          // Fallback: immediately show the animation if IntersectionObserver is unavailable
          stars.forEach(el => el.classList.add('animate'));
        }
      });

    </script>

    <!-- Before & After Gallery Section -->
    <section
      id="asphaltGallery"
      class="gallery-section"
      aria-labelledby="asphaltGallery-title"
    >
      <h2
        id="asphaltGallery-title"
        class="text-large"
      >Asphalt Gallery</h2>
      <div class="service-item">
        <h3>Seal Coat</h3>
        <div class="gallery-row">
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%201.png"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%201.jpg"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%202.png"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%202.png"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%203.png"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%203.png"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%204.png"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%204.png"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%205.png"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%205.png"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%206.jpg"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%206.jpg"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="asphalt%20before%207.jpg"
                alt="Damaged asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="asphalt%20after%207.jpg"
                alt="Repaired asphalt driveway"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
        </div>
      </div>
    </section>
    <section
      id="concrete"
      class="gallery-section"
      aria-labelledby="concrete-title"
    >
      <h2
        id="concrete-title"
        class="text-large"
      >Concrete Gallery</h2>
      <div class="service-item">
        <h3>Concrete Resurfacing</h3>
        <div class="gallery-row">
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="before%203.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="after%203.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="before21.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="after21.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="concrete%20before%201.1.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="concrete%20after%201.1.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="concrete%20before%201.3.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="concrete%20after%201.3.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="concrete%20before%201.5.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="concrete%20after%201.5.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="concrete%20before%206.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="concrete%20after%206.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
          <div class="before-after-container">
            <div
              class="gallery-item"
              data-before="Before"
            >
              <img
                src="concrete%20before%201.6.jpg"
                alt="Damaged concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
            <div
              class="gallery-item"
              data-after="After"
            >
              <img
                src="concrete%20after%201.6.jpg"
                alt="Repaired concrete"
                class="img-small"
                loading="lazy"
                decoding="async"
                width="200"
                height="150"
              >
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- Contact Section -->
    <section id="contact" aria-labelledby="contact-title">
      <div class="contact-card">
        <h2 id="contact-title" class="contact-card__title">Contact Us</h2>

        <!-- Company Info -->
        <div class="contact-card__info">
          <p class="text-medium"><strong>Company:</strong> TJ's Asphalt and Concrete Repair</p>
          <p class="text-medium"><strong>Email:</strong>
            <a href="mailto:tjsasphaltandconcreterepair@gmail.com" class="contact-card__email">
              tjsasphaltandconcreterepair@gmail.com
            </a>
          </p>
          <p class="text-medium"><strong>Phone:</strong>
            <a href="tel:18635133291">(863)&nbsp;513‑3291</a>
          </p>
        </div>

        <!-- Contact Form -->
        <form class="contact-card__form" method="POST" action="/api/contact" novalidate>
          <div class="contact-card__field">
            <label for="custName">Your Name</label>
            <input id="custName" name="name" type="text" required minlength="2" maxlength="120" placeholder="John Doe">
          </div>

          <div class="contact-card__field contact-card__fullrow">
            <label for="custAddress">Your Address</label>
            <input id="custAddress" name="address" type="text" required maxlength="255" placeholder="123 Main St, Lakeland, FL">
          </div>

          <div class="contact-card__field">
            <label for="custPhone">Your Phone</label>
            <input id="custPhone" name="phone" type="tel" required maxlength="20" placeholder="(863) 555-1234">
          </div>

          <div class="contact-card__field">
            <label for="custEmail">Your Email</label>
            <input id="custEmail" name="email" type="email" required maxlength="160" placeholder="you@example.com">
          </div>

          <div class="contact-card__field contact-card__fullrow">
            <label for="custMessage">Message</label>
            <textarea id="custMessage" name="message" required minlength="10" maxlength="5000" placeholder="Tell us about your project..."></textarea>
          </div>

          <!-- honeypot field (hidden from users, used to catch bots) -->
          <input type="text" name="hp" class="hp-hidden" tabindex="-1" autocomplete="off" aria-hidden="true">

          <button type="submit" class="contact-card__button">Send Message</button>
        </form>
      </div>
</section>

    <!-- Success Modal -->
    <div id="successModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-hidden="true" hidden>
      <div class="modal-content" role="document">
        <h3 id="modalTitle">Thank you!</h3>
        <p>Your message has been sent. We'll be in touch soon.</p>
  <p id="refCode" role="status" aria-live="polite"></p>
        <button id="closeModal" type="button">Close</button>
      </div>
    </div>

  <!-- Inline form status (hidden by default) -->
  <div id="formStatus" role="alert" aria-live="assertive"></div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
      const form = document.querySelector('.contact-card__form');
      if (!form) return;

      // Inline status element for errors/success messages
      const statusEl = document.getElementById('formStatus');

// Inputs selected by id to avoid depending on form.<name> properties
      const inputName = document.getElementById('custName');
      const inputAddress = document.getElementById('custAddress');
      const inputPhone = document.getElementById('custPhone');
      const inputEmail = document.getElementById('custEmail');
      const inputMessage = document.getElementById('custMessage');
      const honeypot = form.querySelector('input[name="hp"]');
      const submitBtn = form.querySelector('button[type="submit"]');

      const modal = document.getElementById('successModal');
      const refCode = document.getElementById('refCode');
      const closeBtn = document.getElementById('closeModal');
      let lastFocused = null;

      // Focusable selectors for focus trap
      const focusSelectors = 'a[href], area[href], input:not([disabled]):not([type=hidden]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex]:not([tabindex="-1"])';

      function trapFocus(e) {
        if (e.key !== 'Tab') return;
        const focusable = Array.from(modal.querySelectorAll(focusSelectors)).filter(el => el.offsetParent !== null);
        if (focusable.length === 0) return;
        const first = focusable[0];
        const last = focusable[focusable.length - 1];

        if (e.shiftKey) {
          if (document.activeElement === first) {
            e.preventDefault();
            last.focus();
          }
        } else {
          if (document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }
      }

      function openModal() {
        if (!modal) return;
        lastFocused = document.activeElement;
        modal.removeAttribute('hidden');
        modal.setAttribute('aria-hidden', 'false');
        // Prevent background scroll
        document.body.style.overflow = 'hidden';
        // focus first focusable element inside modal (close button)
        closeBtn?.focus();
        document.addEventListener('keydown', onKeyDown);
        document.addEventListener('keydown', trapFocus);
      }

      function closeModal() {
        if (!modal) return;
        modal.setAttribute('hidden', '');
        modal.setAttribute('aria-hidden', 'true');
        document.removeEventListener('keydown', onKeyDown);
        document.removeEventListener('keydown', trapFocus);
        document.body.style.overflow = '';
        if (lastFocused && typeof lastFocused.focus === 'function') lastFocused.focus();
      }

      function onKeyDown(e) {
        if (e.key === 'Escape') closeModal();
      }

      async function handleSubmit(e) {
        e.preventDefault();
        // Clear previous status
        if (statusEl) { statusEl.style.display = 'none'; statusEl.textContent = ''; }

        // Honeypot check
        if (honeypot && honeypot.value.trim() !== '') {
          form.reset();
          return;
        }

        const payload = {
          name: inputName?.value || '',
          address: inputAddress?.value || '',
          phone: inputPhone?.value || '',
          email: inputEmail?.value || '',
          message: inputMessage?.value || ''
        };

        // Disable submit to prevent duplicate sends
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.setAttribute('aria-busy', 'true');
        }

        try {
          const res = await fetch(form.action, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });

          if (!res.ok) {
            const txt = await res.text().catch(() => null);
            throw new Error(txt || 'Network error');
          }

          const json = await res.json().catch(() => ({}));
          if (refCode) refCode.textContent = json.thread_token ? `Reference: ${json.thread_token}` : '';
          openModal();
          form.reset();
        } catch (err) {
          const msg = (err && err.message) ? `Error sending message: ${err.message}` : 'Error sending message. Please try again.';
          if (statusEl) {
            statusEl.textContent = msg;
            statusEl.style.display = 'block';
          } else {
            // fallback
            alert(msg);
          }
        } finally {
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.removeAttribute('aria-busy');
          }
        }
      }

      form.addEventListener('submit', handleSubmit);

      closeBtn?.addEventListener('click', closeModal);
      modal?.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
    });
</script>

</body>
</html>
